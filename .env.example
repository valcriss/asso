# --- Core API ---
# Mode d'execution de l'API (development/test/production).
NODE_ENV=development
# Port HTTP expose par l'API Fastify.
PORT=3000
# Niveau de logs pino (fatal/error/warn/info/debug/trace/silent).
LOG_LEVEL=info
# URL de connexion Postgres pour Prisma (schema public par defaut).
DATABASE_URL=postgresql://asso:asso@localhost:5432/asso?schema=public

# --- Docker Compose ---
# Nom de la base creee par Postgres dans docker-compose.dev.yml.
POSTGRES_DB=asso
# Identifiant Postgres utilise en local.
POSTGRES_USER=asso
# Mot de passe Postgres utilise en local.
POSTGRES_PASSWORD=asso
# Port hote pour exposer Postgres.
POSTGRES_PORT=5432
# Port hote pour exposer Redis.
REDIS_PORT=6379

# --- Authentification ---
# Cle pour signer les tokens d'acces JWT (32 caracteres minimum).
JWT_ACCESS_SECRET=dev-access-secret-change-me-please-0123456789
# Cle pour signer les tokens de rafraichissement JWT.
JWT_REFRESH_SECRET=dev-refresh-secret-change-me-please-0123456789
# Duree de validite des tokens de rafraichissement (jours).
REFRESH_TOKEN_TTL_DAYS=30

# --- Files et stockage ---
# Identifiant de cle S3 (utiliser des valeurs locales ou temporaires).
S3_ACCESS_KEY_ID=local-access-key
# Cle secrete S3.
S3_SECRET_ACCESS_KEY=local-secret-key
# Region S3 a utiliser.
S3_REGION=us-east-1
# Nom du bucket S3 cible.
S3_BUCKET=local-bucket
# Endpoint S3 compatible (laisser vide pour AWS, definir pour MinIO).
S3_ENDPOINT=
# URL publique racine pour servir les fichiers (optionnel).
S3_PUBLIC_URL=

# --- Emails ---
# Hote SMTP (laisser vide pour utiliser le transport JSON).
SMTP_HOST=
# Port SMTP.
SMTP_PORT=587
# true pour TLS explicite; false pour STARTTLS automatique.
SMTP_SECURE=false
# Identifiant SMTP si necessaire.
SMTP_USER=
# Mot de passe SMTP si necessaire.
SMTP_PASSWORD=
# Adresse expediteur par defaut.
SMTP_FROM=no-reply@asso.local

# --- Antivirus ---
# Active le scan ClamAV (true/false).
CLAMAV_ENABLED=false
# Hote ClamAV si active.
CLAMAV_HOST=localhost
# Port du service ClamAV.
CLAMAV_PORT=3310
# Timeout du scan ClamAV (millisecondes).
CLAMAV_TIMEOUT_MS=5000

# --- Jobs et files ---
# URL de connexion Redis (necessaire pour BullMQ en production).
REDIS_URL=redis://localhost:6379
# Fuseau horaire par defaut pour les jobs planifies.
JOBS_TIMEZONE=Europe/Paris

# --- Observabilite ---
# Active l'export Prometheus /metrics.
METRICS_ENABLED=true
# Active OpenTelemetry (true/false).
OTEL_ENABLED=false
# Nom du service lorsqu'OTEL est active.
OTEL_SERVICE_NAME=asso-api
# Endpoint OTLP/HTTP si collecte tracee (laisser vide sinon).
OTEL_EXPORTER_OTLP_ENDPOINT=
# Entetes supplementaires pour l'export OTLP (format key=value,key2=value2).
OTEL_EXPORTER_OTLP_HEADERS=

# --- Sentry backend ---
# DSN Sentry pour l'API (laisser vide pour desactiver).
SENTRY_DSN=
# Environnement reporte a Sentry.
SENTRY_ENVIRONMENT=local
# Taux d'echantillonnage des traces (0 a 1).
SENTRY_TRACES_SAMPLE_RATE=0

# --- Frontend Vite ---
# DSN Sentry pour le frontend (facultatif).
VITE_SENTRY_DSN=
# Environnement reporte par le frontend.
VITE_SENTRY_ENVIRONMENT=local
# Taux d'echantillonnage des traces frontend (0 a 1).
VITE_SENTRY_TRACES_SAMPLE_RATE=0
