# Association Management Monorepo

This repository is structured as an npm workspaces monorepo to host the two main applications of the Association Management SaaS:

- **`apps/api`** – the TypeScript backend that will expose the Fastify-based API, handle persistence through Prisma, and enforce accounting rules.
- **`apps/web`** – the Vue 3 single-page application powered by Vite for development and build tooling.

## Tooling overview

- The root `package.json` is marked `private` and declares the workspaces used to manage both applications with a single dependency graph.
- Shared TypeScript compiler defaults live in `tsconfig.base.json`. Each workspace extends this base configuration to keep strict type-checking aligned across the stack.
- `.npmrc` enables workspace-aware installs and pins exact dependency versions. The `.gitignore` captures typical Node, build, and editor artifacts generated by either application.

## Workspace specifics

### API (`apps/api`)

- Designed for Node.js + TypeScript with ESM modules enabled.
- Scripts:
  - `npm run dev` — launches the backend in watch mode via `ts-node-dev` (entry point `src/main.ts`).
  - `npm run build` — compiles TypeScript sources to `dist/` using the workspace-specific `tsconfig.json`.
  - `npm run test` — reserved for the Vitest-based suite covering domain and HTTP layers.
  - `npm run prisma:migrate` — runs Prisma migrations against the PostgreSQL database referenced by `DATABASE_URL`.
  - `npm run prisma:seed` — executes `prisma/seed.ts` to provision the demo tenant (chart of accounts, journals BANQ/CAIS, fiscal year, members/donations, and the OFX fixture stored in `apps/api/fixtures/ofx`).
- The TypeScript configuration outputs compiled code to `dist/` and keeps incremental build metadata next to the artifacts.

### Web (`apps/web`)

- Targets Vue 3 with the Vite toolchain.
- Scripts:
  - `npm run dev` — serves the SPA with Vite's development server.
  - `npm run build` — produces an optimized production bundle through `vite build`.
  - `npm run test` — entry point for the Vitest and Testing Library suite.
- TypeScript support follows the shared base configuration and augments it with Vue/Vite typing via `vite/client`.

## Next steps

- Add workspace-specific dependencies (`typescript`, `vitest`, `vite`, Fastify, etc.) and source directories.
- Configure linting (ESLint + Prettier), formatting, and Husky hooks at the root level.
- Set up CI workflows to execute `npm run lint`, `npm run test`, and `npm run build` for every push.
